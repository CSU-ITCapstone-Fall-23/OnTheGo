{% extends "index.html" %}

{% block title %}Booking{% endblock %}

{% block content %}
<!DOCTYPE html>
<html>
<head>
    <title>Hotel Prices</title>
    <!-- Include the axios library -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <style>
        /* Add some basic CSS styles for better presentation */
        ul {
            list-style-type: none;
            padding: 0;
        }
        li {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Hotel Prices</h1>
    <div id="prices"></div>

    <script>
        // Define the API url
        const url = "https://apidojo-booking-v1.p.rapidapi.com/currency/get-exchange-rates?api_key=51d88be3cfmshc0d5d8f34a52783p1527c2jsnfab1019e5285";

        // Send a GET request to the API
        axios.get(url)
        .then(response => {
            // Handle the response data
            const data = response.data;

            // Check if data.prices exists
            if (data && data.prices) {
                let output = "<ul>";
                for (let price of data.prices) {
                    output += `<li>${price.hotelName}: ${price.price}</li>`;
                }
                output += "</ul>";
                document.getElementById("prices").innerHTML = output;
            } else {
                document.getElementById("prices").innerHTML = "No data available.";
            }
        })
        .catch(error => {
            // Handle the error
            console.error(error);
            document.getElementById("prices").innerHTML = `Error occurred while fetching data: ${error.message}`;
        });
    </script>
</body>
</html>
{% endblock %}
